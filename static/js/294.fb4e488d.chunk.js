"use strict";(self.webpackChunkprimecut=self.webpackChunkprimecut||[]).push([[294],{3294(e,s,t){t.r(s),t.d(s,{default:()=>N});var r=t(9379),a=t(5043),c=t(3216),n=t(5475),d=t(3910),i=t(7929),l=t(289),o=t(5057),h=t(3003),m=t(3516),x=t(899),u=t(5988),j=t(5076),p=t(579);const N=()=>{const[e,s]=(0,a.useState)(!1),[t,N]=(0,a.useState)(!1),v=(0,h.d4)(e=>e.cart.cartItems),f=(0,h.d4)(e=>e.cart.totalCost),g=(0,h.wA)(),k=x.Ik().shape({fName:x.Yj().required("First Name is Required"),sName:x.Yj().required("Second Name is Required"),address:x.Yj().required("Address is Required"),phone:x.ai().required("Phone is Required"),notes:x.Yj().required("Our Best chefs Will read your message:)")}),b=(0,m.Wx)({initialValues:{fName:"",sName:"",address:"",phone:"",notes:""},validationSchema:k,onSubmit:e=>{g((0,o.oT)({fullName:"".concat(e.fName," ").concat(e.sName),address:"".concat(e.address),phone:"".concat(e.phone)})),P(e.fName),R(),S(!0),s(!0),N(!0),e.fName="",e.sName="",e.address="",e.phone="",e.notes=""}}),[y,A]=(0,a.useState)(5),[C,P]=(0,a.useState)(""),[I,S]=(0,a.useState)(!1),q=(0,c.Zp)(),w=a.createRef(),R=()=>{const e=w.current;new j.y8(e).show()};if(I){const e=setInterval(()=>{A(y-1),0===y&&(clearInterval(e),q("/payment",{replace:!0}))},1e3)}if(0===v.length){const e=setInterval(()=>{A(y-1),0===y&&(clearInterval(e),q("/",{replace:!0}))},1e3)}return(0,a.useEffect)(()=>{0===v.length&&(s(!0),R())},[v.length]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("title",{children:"PRIMECUT | CHECKOUT"}),(0,p.jsxs)("div",{className:"checkoutPage-container",children:[(0,p.jsxs)("div",{className:"checkout-PathSec px-4 py-5",children:[(0,p.jsx)("h1",{children:"check out"}),(0,p.jsxs)("nav",{className:"mt-2",children:[(0,p.jsx)(n.k2,{to:"/",className:"prevLink",children:"home"})," ","/"," ",(0,p.jsx)(n.k2,{to:"/cart",className:"prevLink",children:"cart"})," ","/"," ",(0,p.jsx)(n.k2,{to:"/checkout",className:"currLink",children:"check out"})]})]}),(0,p.jsxs)("div",{className:"checkOut-main-sec row",children:[(0,p.jsxs)("div",{className:"checkout-main-leftSide px-3 px-md-5 py-4 col-md-6",children:[(0,p.jsx)("h3",{children:"contact details"}),(0,p.jsxs)("form",{action:"#",className:"d-flex flex-column",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("input",(0,r.A)({type:"text",name:"first name",placeholder:"First name"},b.getFieldProps("fName"))),b.touched.fName&&b.errors.fName&&(0,p.jsx)("div",{className:"text-danger",children:b.errors.fName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",(0,r.A)({type:"text",name:"last name",placeholder:"Last name"},b.getFieldProps("sName"))),b.touched.sName&&b.errors.sName&&(0,p.jsx)("div",{className:"text-danger",children:b.errors.sName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",(0,r.A)({type:"text",name:"address",placeholder:"Address"},b.getFieldProps("address"))),b.touched.address&&b.errors.address&&(0,p.jsx)("div",{className:"text-danger",children:b.errors.address})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",(0,r.A)({type:"text",name:"phone",placeholder:"Phone"},b.getFieldProps("phone"))),b.touched.phone&&b.errors.phone&&(0,p.jsx)("div",{className:"text-danger",children:b.errors.phone})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("textarea",(0,r.A)({name:"order notes",rows:"5",placeholder:"Order notes"},b.getFieldProps("notes"))),b.touched.notes&&b.errors.notes&&(0,p.jsx)("div",{className:"text-danger",children:b.errors.notes})]})]})]}),(0,p.jsxs)("div",{className:"checkout-main-rightSide px-3 px-md-5 py-4 col-md-6",children:[(0,p.jsx)("h3",{children:"your order"}),(0,p.jsx)("div",{className:"checkout-order-sec",children:(0,p.jsxs)("table",{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"product"}),(0,p.jsx)("th",{children:"\xa0"}),(0,p.jsx)("th",{children:"qty"}),(0,p.jsx)("th",{children:"\xa0"})]})}),(0,p.jsx)("tbody",{children:v.map(e=>{var s,t;const r={name:e.name,id:e.id,img:e.img,price:e.price,kcal:e.kcal,fat:e.fat,saturates:e.saturates,sugars:e.sugars,salt:e.salt,description:e.desc,category:e.category};return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:(0,p.jsx)(n.k2,{to:"/productDetails/:".concat(null===(s=e.name)||void 0===s?void 0:s.replaceAll(" ","-")),state:{from:{productInfo:r}},children:(0,p.jsx)("img",{src:e.img,alt:e.name})})}),(0,p.jsx)("td",{className:"main-color-green",children:(0,p.jsx)(n.k2,{className:"main-color-green text-uppercase",to:"/productDetails/:".concat(null===(t=e.name)||void 0===t?void 0:t.replaceAll(" ","-")),state:{from:{productInfo:r}},children:e.name})}),(0,p.jsxs)("td",{className:"checkout-order-qty-sec",children:[(0,p.jsx)("button",{onClick:()=>g((0,l.xh)({id:e.id})),children:(0,p.jsx)(d.g,{icon:i.Uec})}),(0,p.jsx)("span",{className:"main-color-green",children:e.quantity}),(0,p.jsx)("button",{onClick:()=>g((0,l.Zd)({id:e.id})),children:(0,p.jsx)(d.g,{icon:i.vmR})})]}),(0,p.jsx)("td",{children:(0,p.jsx)("button",{onClick:()=>g((0,l.PO)({id:e.id})),children:(0,p.jsx)(d.g,{icon:i.Qbn})})})]},e.id)})})]})}),(0,p.jsxs)("div",{className:"check-order-del-sec d-flex justify-content-between mt-1 mb-3",children:[(0,p.jsx)("h5",{children:"DELIVERY"}),(0,p.jsx)("p",{children:"from 5 to 8 km delivery"})]}),(0,p.jsxs)("div",{className:"check-order-total-sec d-flex justify-content-between mb-3",children:[(0,p.jsx)("h5",{className:"t-title",children:"TOTAL :"}),(0,p.jsx)("p",{className:"t-cost",children:0===v.length?"$".concat(Number(Number(f)+0).toFixed(2)):"$".concat(Number(Number(f)+10).toFixed(2))})]})]})]}),(0,p.jsxs)("div",{className:"checkout-bottom-nav-sec d-flex justify-content-between px-3 px-md-5 py-5",children:[(0,p.jsx)("button",{onClick:()=>{q(e?"/":"/cart",{replace:!0})},disabled:!!t,children:e?(0,p.jsx)(n.k2,{children:"return to Home"}):(0,p.jsx)(n.k2,{children:"return to cart"})}),(0,p.jsx)("button",{onClick:b.handleSubmit,type:"submit",disabled:!!e,children:(0,p.jsx)(n.k2,{children:"continue to payment"})})]}),(0,p.jsx)(u.A,{ref:w,msg:I?"Success ".concat(C," You'll Be Redirect To Payment In ").concat(y,"s"):"There Are No Products To Continue, You'll Be Redirect Home In ".concat(y,"s")})]})]})}},5988(e,s,t){t.d(s,{A:()=>c});var r=t(5043),a=t(579);const c=r.forwardRef((e,s)=>(0,a.jsx)("div",{className:"toast-container position-fixed top-0 end-0 p-3",children:(0,a.jsxs)("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:s,children:[(0,a.jsxs)("div",{className:"toast-header",children:[(0,a.jsx)("strong",{className:"me-auto main-color-green",children:"PRIMECUT"}),(0,a.jsx)("small",{className:"main-color-green",children:"Just Now"}),(0,a.jsx)("button",{type:"button","data-bs-dismiss":"toast","aria-label":"Close",children:"X"})]}),(0,a.jsx)("div",{className:"toast-body text-uppercase",children:e.msg})]})}))}}]);
//# sourceMappingURL=294.fb4e488d.chunk.js.map