"use strict";(self.webpackChunkprimecut=self.webpackChunkprimecut||[]).push([[294],{3294(e,s,t){t.r(s),t.d(s,{default:()=>v});var r=t(9379),a=t(5043),c=t(3216),n=t(5475),d=t(1591),i=t(3910),l=t(7929),o=t(289),h=t(5057),m=t(3003),x=t(3516),u=t(899),j=t(5988),p=t(5076),N=t(579);const v=()=>{const[e,s]=(0,a.useState)(!1),[t,v]=(0,a.useState)(!1),f=(0,m.d4)(e=>e.cart.cartItems),g=(0,m.d4)(e=>e.cart.totalCost),k=(0,m.wA)(),b=u.Ik().shape({fName:u.Yj().required("First Name is Required"),sName:u.Yj().required("Second Name is Required"),address:u.Yj().required("Address is Required"),phone:u.ai().required("Phone is Required"),notes:u.Yj().required("Our Best chefs Will read your message:)")}),y=(0,x.Wx)({initialValues:{fName:"",sName:"",address:"",phone:"",notes:""},validationSchema:b,onSubmit:e=>{k((0,h.oT)({fullName:"".concat(e.fName," ").concat(e.sName),address:"".concat(e.address),phone:"".concat(e.phone)})),I(e.fName),F(),q(!0),s(!0),v(!0),e.fName="",e.sName="",e.address="",e.phone="",e.notes=""}}),[A,C]=(0,a.useState)(5),[P,I]=(0,a.useState)(""),[S,q]=(0,a.useState)(!1),w=(0,c.Zp)(),R=a.createRef(),F=()=>{const e=R.current;new p.y8(e).show()};if(S){const e=setInterval(()=>{C(A-1),0===A&&(clearInterval(e),w("/payment",{replace:!0}))},1e3)}if(0===f.length){const e=setInterval(()=>{C(A-1),0===A&&(clearInterval(e),w("/",{replace:!0}))},1e3)}return(0,a.useEffect)(()=>{0===f.length&&(s(!0),F())},[f.length]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(d.m,{children:(0,N.jsx)("title",{children:"PRIMECUT | CHECKOUT"})}),(0,N.jsxs)("div",{className:"checkoutPage-container",children:[(0,N.jsxs)("div",{className:"checkout-PathSec px-4 py-5",children:[(0,N.jsx)("h1",{children:"check out"}),(0,N.jsxs)("nav",{className:"mt-2",children:[(0,N.jsx)(n.k2,{to:"/",className:"prevLink",children:"home"})," ","/"," ",(0,N.jsx)(n.k2,{to:"/cart",className:"prevLink",children:"cart"})," ","/"," ",(0,N.jsx)(n.k2,{to:"/checkout",className:"currLink",children:"check out"})]})]}),(0,N.jsxs)("div",{className:"checkOut-main-sec row",children:[(0,N.jsxs)("div",{className:"checkout-main-leftSide px-3 px-md-5 py-4 col-md-6",children:[(0,N.jsx)("h3",{children:"contact details"}),(0,N.jsxs)("form",{action:"#",className:"d-flex flex-column",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("input",(0,r.A)({type:"text",name:"first name",placeholder:"First name"},y.getFieldProps("fName"))),y.touched.fName&&y.errors.fName&&(0,N.jsx)("div",{className:"text-danger",children:y.errors.fName})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",(0,r.A)({type:"text",name:"last name",placeholder:"Last name"},y.getFieldProps("sName"))),y.touched.sName&&y.errors.sName&&(0,N.jsx)("div",{className:"text-danger",children:y.errors.sName})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",(0,r.A)({type:"text",name:"address",placeholder:"Address"},y.getFieldProps("address"))),y.touched.address&&y.errors.address&&(0,N.jsx)("div",{className:"text-danger",children:y.errors.address})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",(0,r.A)({type:"text",name:"phone",placeholder:"Phone"},y.getFieldProps("phone"))),y.touched.phone&&y.errors.phone&&(0,N.jsx)("div",{className:"text-danger",children:y.errors.phone})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("textarea",(0,r.A)({name:"order notes",rows:"5",placeholder:"Order notes"},y.getFieldProps("notes"))),y.touched.notes&&y.errors.notes&&(0,N.jsx)("div",{className:"text-danger",children:y.errors.notes})]})]})]}),(0,N.jsxs)("div",{className:"checkout-main-rightSide px-3 px-md-5 py-4 col-md-6",children:[(0,N.jsx)("h3",{children:"your order"}),(0,N.jsx)("div",{className:"checkout-order-sec",children:(0,N.jsxs)("table",{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:"product"}),(0,N.jsx)("th",{children:"\xa0"}),(0,N.jsx)("th",{children:"qty"}),(0,N.jsx)("th",{children:"\xa0"})]})}),(0,N.jsx)("tbody",{children:f.map(e=>{var s,t;const r={name:e.name,id:e.id,img:e.img,price:e.price,kcal:e.kcal,fat:e.fat,saturates:e.saturates,sugars:e.sugars,salt:e.salt,description:e.desc,category:e.category};return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsx)(n.k2,{to:"/productDetails/:".concat(null===(s=e.name)||void 0===s?void 0:s.replaceAll(" ","-")),state:{from:{productInfo:r}},children:(0,N.jsx)("img",{src:e.img,alt:e.name})})}),(0,N.jsx)("td",{className:"main-color-green",children:(0,N.jsx)(n.k2,{className:"main-color-green text-uppercase",to:"/productDetails/:".concat(null===(t=e.name)||void 0===t?void 0:t.replaceAll(" ","-")),state:{from:{productInfo:r}},children:e.name})}),(0,N.jsxs)("td",{className:"checkout-order-qty-sec",children:[(0,N.jsx)("button",{onClick:()=>k((0,o.xh)({id:e.id})),children:(0,N.jsx)(i.g,{icon:l.Uec})}),(0,N.jsx)("span",{className:"main-color-green",children:e.quantity}),(0,N.jsx)("button",{onClick:()=>k((0,o.Zd)({id:e.id})),children:(0,N.jsx)(i.g,{icon:l.vmR})})]}),(0,N.jsx)("td",{children:(0,N.jsx)("button",{onClick:()=>k((0,o.PO)({id:e.id})),children:(0,N.jsx)(i.g,{icon:l.Qbn})})})]},e.id)})})]})}),(0,N.jsxs)("div",{className:"check-order-del-sec d-flex justify-content-between mt-1 mb-3",children:[(0,N.jsx)("h5",{children:"DELIVERY"}),(0,N.jsx)("p",{children:"from 5 to 8 km delivery"})]}),(0,N.jsxs)("div",{className:"check-order-total-sec d-flex justify-content-between mb-3",children:[(0,N.jsx)("h5",{className:"t-title",children:"TOTAL :"}),(0,N.jsx)("p",{className:"t-cost",children:0===f.length?"$".concat(Number(Number(g)+0).toFixed(2)):"$".concat(Number(Number(g)+10).toFixed(2))})]})]})]}),(0,N.jsxs)("div",{className:"checkout-bottom-nav-sec d-flex justify-content-between px-3 px-md-5 py-5",children:[(0,N.jsx)("button",{onClick:()=>{w(e?"/":"/cart",{replace:!0})},disabled:!!t,children:e?(0,N.jsx)(n.k2,{children:"return to Home"}):(0,N.jsx)(n.k2,{children:"return to cart"})}),(0,N.jsx)("button",{onClick:y.handleSubmit,type:"submit",disabled:!!e,children:(0,N.jsx)(n.k2,{children:"continue to payment"})})]}),(0,N.jsx)(j.A,{ref:R,msg:S?"Success ".concat(P," You'll Be Redirect To Payment In ").concat(A,"s"):"There Are No Products To Continue, You'll Be Redirect Home In ".concat(A,"s")})]})]})}},5988(e,s,t){t.d(s,{A:()=>c});var r=t(5043),a=t(579);const c=r.forwardRef((e,s)=>(0,a.jsx)("div",{className:"toast-container position-fixed top-0 end-0 p-3",children:(0,a.jsxs)("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:s,children:[(0,a.jsxs)("div",{className:"toast-header",children:[(0,a.jsx)("strong",{className:"me-auto main-color-green",children:"PRIMECUT"}),(0,a.jsx)("small",{className:"main-color-green",children:"Just Now"}),(0,a.jsx)("button",{type:"button","data-bs-dismiss":"toast","aria-label":"Close",children:"X"})]}),(0,a.jsx)("div",{className:"toast-body text-uppercase",children:e.msg})]})}))}}]);
//# sourceMappingURL=294.14c2085d.chunk.js.map